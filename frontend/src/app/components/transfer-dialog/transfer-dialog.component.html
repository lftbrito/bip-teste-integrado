<h2 mat-dialog-title>Transferir Valor</h2>

<mat-dialog-content>
  <div class="beneficio-origem-info">
    <p><strong>Benefício Origem:</strong> {{ data.beneficioOrigem.nome }}</p>
    <p><strong>Descrição:</strong> {{ data.beneficioOrigem.descricao || 'N/A' }}</p>
    <p><strong>Valor Disponível:</strong> {{ data.beneficioOrigem.valor | currency: 'BRL' }}</p>
  </div>

  <form [formGroup]="form">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Benefício Destino</mat-label>
      <mat-select formControlName="idDestino">
        <mat-option *ngFor="let beneficio of beneficiosDestino" [value]="beneficio.id">
          {{ beneficio.nome }} ({{ beneficio.valor | currency: 'BRL' }})
        </mat-option>
      </mat-select>
      <mat-error *ngIf="idDestino?.hasError('required')">
        Selecione o benefício de destino
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Valor da Transferência</mat-label>
      <input matInput type="number" formControlName="valor" placeholder="0.00" step="0.01">
      <mat-error *ngIf="valor?.hasError('required')">
        Valor é obrigatório
      </mat-error>
      <mat-error *ngIf="valor?.hasError('min')">
        Valor mínimo é R$ 0,01
      </mat-error>
      <mat-error *ngIf="valor?.hasError('max')">
        Valor não pode exceder o saldo disponível
      </mat-error>
    </mat-form-field>
  </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button class="cancel-button" (click)="cancelar()" [disabled]="submitting">
    Cancelar
  </button>
  <button mat-raised-button color="primary" (click)="transferir()" [disabled]="submitting">
    <mat-spinner diameter="20" *ngIf="submitting"></mat-spinner>
    <span *ngIf="!submitting">Transferir</span>
  </button>
</mat-dialog-actions>
